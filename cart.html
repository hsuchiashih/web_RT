<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>購物車</title>
    <link rel="icon" href="images/logo-title.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css">
    <link rel="stylesheet" href="css/cart.css">
</head>

<body>
    <header class="header">
        <div class="container">
            <a href="rt_index.html" class="logo"><img src="images/logo_main.png" alt=""></a>
            <div class="navbar">
                <ul>
                    <li><a href="member_login.html">會員專區</a></li>
                    <li><a href="product.html">商品總覽</a></li>
                </ul>
            </div>
            <div class="nav-icon">
                <div class="list-item">
                    <a href="cart.html">
                        <i class="fas fa-shopping-cart fa-lg"></i>
                    </a>
                </div>
                <div class="list-item">
                    <a href="faq.html">
                        <i class="fas fa-question-circle fa-lg"></i>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <section class="product_list">
        <div class="container">
            <div class="product">
                <div class="item">
                    <div class="icon">
                        <div class="list">1</div>
                        <p class="color01">購物清單</p>
                    </div>
                    <div class="line"></div>
                    <div class="icon">
                        <div class="check">2</div>
                        <p class="color02">訂單確認</p>
                    </div>
                </div>
                <div class="prouduct-container mt-5">
                    <!-- <h2>My Favorite Movies</h2> -->
                    <div id="data-panel">
                        <!-- print dynamic data here-->
                    </div>
                </div>

                <div class="product-button">
                    <input class="btn btn01-color" type="submit" value="訂單結帳">
                    <input class="btn btn02-color" type="submit" value="取消所有訂單">
                </div> 
            </div>
        </div>
    </section>

    <footer class="footer primary-bg-color-3">
        <div class="container">
            <div class="footer-link">
                <h4>網站地圖</h4>
                <ul>
                    <li><a href="#">商品介紹</a></li>
                    <li><a href="#three_principles">三大原則</a></li>
                    <li><a href="#about_rt">關於我們</a></li>
                    <li><a href="#contact_us">聯絡我們</a></li>
                    <li><a href="roll_page.html">生乳捲</a></li>
                    <li><a href="tart_page.html">塔</a></li>
                </ul>
                <ul>
                    <li><a href="member_login.html">會員專區</a></li>
                    <li><a href="product.html">商品總覽</a></li>
                    <li><a href="faq.html">購物說明</a></li>
                    <li><a href="cart.html">購物車</a></li>
                </ul>
            </div>
            <!-- <div class="footerlogo"><img src="" alt=""></div> -->
            <div class="footer-list-item">
                <a href="https://www.facebook.com/?stype=lo&jlou=Aff6nyDXmIRUSukXEFprLuMiTICNX3RloZv9GGH9Y2bYdDKCVZGNizOYntreBG81Su5QdPJO3kITxY6AH_4gYKKDoQdu9OVT2dAjYGh14M8B7A&smuh=34185&lh=Ac8RAy07oCrQ11Fe"
                    target="_blank"><i class="fab fa-facebook-square fa-3x"></i></a>
                <a href="https://www.instagram.com/?hl=zh-tw" target="_blank"><i class="fab fa-instagram fa-3x"></i></a>
            </div>
        </div>
    </footer>
    <div class="copyright">版權所有 © 2020 Roll & Tart Company. All Rights Reserved.</div>

    <script>
        const movies = [{
            title: 'The Avengers',
            image: 'https://bit.ly/2NQOG6H',
            rating: 0
        },
        {
            title: 'Our Times',
            image: 'https://bit.ly/2OsGmv2',
            rating: 0
        },
        {
            title: 'Aquaman',
            image: 'https://bit.ly/2zmcLxo',
            rating: 0
        }
        ]
        // select element from html template
        function displayMovieList(data) {
            let htmlContent = `
    <table class="table">
      <thead>
        <tr>
          <th>Image</th>
          <th>Title</th>
          <th>Rating</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
    `
            data.forEach(item => {
                htmlContent += `
            <tr>
              <td>
                <img src = ${item.image} width = "70" class="img-thumbnail" >
              </td>
              <td>${item.title}</td>
              <td>
                <span class="fa fa-thumbs-up"></span>
                <span class="fa fa-thumbs-down px-2"></span>
                <span class="rate">${item.rating}</span>
              </td>
              <td>
                <button class="btn btn-sm btn-danger">X</button>
              </td>
            </tr>
          `
            })
            htmlContent += `
      </tbody>
    </table>
  `
            // // console.log(htmlContent)
            dataPanel.innerHTML = htmlContent
        }


        const dataPanel = document.querySelector('#data-panel')
        // console.log(dataPanel)
        displayMovieList(movies)


        // A17

        function rateAndDelet(e) {
            if (e.target.classList.contains('fa')) {
                const rating = e.target.parentElement.lastElementChild
                let rate = Number(rating.textContent)
                if (e.target.classList.contains('fa-thumbs-up')) {
                    rate++
                } else if (e.target.classList.contains('fa-thumbs-down')) {
                    rate--
                }
                rating.innerHTML = rate;
            }
            if (e.target.classList.contains('btn-danger')) {
                e.target.parentElement.parentElement.remove()
            }
        }

        dataPanel.addEventListener('click', rateAndDelet)


// dataPanel.addEventListener('click', delet)
    </script>
</body>

</html>